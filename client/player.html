<template name='player'>

  <div id="wrapper">

    <div id='name-bar' class="units-row">

      <div id='name-icon' class="unit-10 unit-push-10">
        {{> logo}}
      </div>

      <div id='name-text' class="{{multied}} unit-80 unit-push-10">

        <span id="title-wrapper">
          <a class='sub-link' href="{{subreddit_link}}" target='__blank'>
            {{subreddit_title}}
          </a>

          <a href="{{mutliuserLink}}" target='__blank' class="multi-link">
            <br>
            {{mutliuser}}
          </a>
        </span>

      </div>

    </div>

    <div class='units-row'>
      <div id='post-bar' class="unit-60 unit-push-right">

        {{#if loading}}

        <div id="loading" class="units-row">

          <div class="unit-60">

             <div id='loading-animation' class="sk-spinner sk-spinner-wave">
               <div class="sk-rect1"></div>
               <div class="sk-rect2"></div>
               <div class="sk-rect3"></div>
               <div class="sk-rect4"></div>
               <div class="sk-rect5"></div>
             </div>

         </div>
       </div>

       {{else}}

       {{#if pageError}}

       <div id="page-error" class='units-row'>
        <div class="unit-80 unit-centered">

          <p id="displayMessage">
            {{displayMessage}}
            <p id="displayLink">
              <a href="{{displayLink}}">{{displayLink}}</a>
            </p>
          </p>

          {{> catBar}}
        </div>
      </div>

      {{else}}

      {{#each posts}}
      {{> song}}
      {{/each}}

      {{/if}}

      {{/if}}

    </div>
  </div>

  {{> controls}}

</div>

</template>

<template name='song'>

  <div id='song-{{name}}' class="{{active}} song units-row">
    <div class="video-col unit-centered unit-100">

      {{#if isYoutube}}
      <img id='thumbnail-{{name}}' class='thumbnail' src="{{thumbnail}}"/>
      {{else}}
      {{#if sound_thumb}}
      <img id='thumbnail-{{name}}' class='thumbnail' src="{{sound_thumb}}"/>
      {{else}}
      <img id='thumbnail-{{name}}' class='thumbnail' src="/images/boomz_soundcloud.png"/>
      {{/if}}
      {{/if}}

      <!-- Holder for the youtube video -->
      <div id='video-{{name}}' class='player'></div>


      <!-- <iframe width="100%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/221792697&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe> -->

      <div class='info-section' id="info-{{name}}">
        <div id='post-row' class="units-row">
          <div class="post-title unit-100">
            <a href="{{url}}" target='_blank'>
              {{title}}
            </a>
          </div>
        </div>

        <ul id="info-row" class='blocks-3 blocks-mobile-50'>
          <li id="post-user">
            <a href="{{user_link}}" target='_blank'>
              {{user_name}}
            </a>
          </li>
          <li id="post-user">
            <a href="{{comment_link}}" target='_blank'>
              {{num_comments}} comments
            </a>
          </li>
          <li id="post-user">
            {{#if isMulti}}
            <a href="{{post_sub_link}}">
              posted to r/{{post_subreddit}}
            </a>
            {{/if}}
          </li>
        </ul>
      </div>

    </div>
  </div>

</template>

<template name='controls'>
  <div id="player-controls">
    {{#if canPrev}}
    <img id='prev-button' class='can pointer' src="/icons/prev.svg">
    {{else}}
    <img class='cant' src="/icons/prev_cant.svg">
    {{/if}}

    {{#if playing}}
    {{#if canPause}}
    <img id='pause-button' class='can pointer' src="/icons/pause2.svg">
    {{else}}
    <img id='pause-button-cant' class='cant' src="/icons/pause_cant.svg">
    {{/if}}
    {{else}}
    {{#if canPlay}}
    <img id='play-button' class='pointer' src="/icons/play.svg">
    {{else}}
    <img id='play-button-cant' class='cant' src="/icons/play_cant.svg">
    {{/if}}
    {{/if}}

    {{#if canNext}}
    <img id='next-button' class='pointer' src="/icons/next.svg">
    {{else}}
    <img class='cant' src="/icons/next_cant.svg">
    {{/if}}

    {{#if canEye}}
    <img id='eye-button' src="/icons/eye.svg">
    {{else}}
    <img id='eye-button-cant' class='cant pointer' src="/icons/eye_cant.svg">
    {{/if}}
  </div>
</template>
